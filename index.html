<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="Provide functionality to aid in the pre-processing and analysis of
    railway data, with the goal of analysing network performance variability.">
<title>Rail Network Performance Variability Analysis • railvarr</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Rail Network Performance Variability Analysis">
<meta property="og:description" content="Provide functionality to aid in the pre-processing and analysis of
    railway data, with the goal of analysing network performance variability.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">railvarr</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9002</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="articles/railvarr.html">Get started</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/sebmerricks/railvarr/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="railvarr">railvarr<a class="anchor" aria-label="anchor" href="#railvarr"></a>
</h1></div>
<!-- badges: start -->

<!-- badges: end -->
<p>The goal of <code>railvarr</code> is to provide a functional and flexible processing pipeline for Centrix data to allow you to quickly get started with analysis.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install the development version of <code>railvarr</code> from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"sebmerricks/railvarr"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="pipeline">Pipeline<a class="anchor" aria-label="anchor" href="#pipeline"></a>
</h2>
<p><code>railvarr</code> implements 5 key processing steps for the analysis of Centrix data.</p>
<div class="section level3">
<h3 id="id_1-centrix-processing">1. Centrix Processing<a class="anchor" aria-label="anchor" href="#id_1-centrix-processing"></a>
</h3>
<p>In this step, the raw Centrix data are converted into human-readable berth-level observations, including labeling train IDs. This step also removes anomalies and invalid data. Up to around 5% of the data can be lost. The main function you will need for this step is <a href="https://sebmerricks.github.io/railvarr/reference/wrangle_centrix.html">wrangle_centrix()</a>. For more information about the structure of Centrix data, see the <a href="https://sebmerricks.github.io/railvarr/articles/railvarr.html#centrix">Get Started page</a>.</p>
</div>
<div class="section level3">
<h3 id="id_2-centrix-clustering">2. Centrix Clustering<a class="anchor" aria-label="anchor" href="#id_2-centrix-clustering"></a>
</h3>
<p>Raw Centrix data contain no information about train types or stopping patterns. However, knowledge of these patterns is useful for analysis and is a pre-requisite to the ID matching process. Therefore, <code>railvarr</code> provides functionality for clustering Centrix data by travel time. Specifically, K-Means Clustering is used. Manual outlier detection is currently required, although we aim to include outlier detection functionality in future versions. See the <a href="https://sebmerricks.github.io/railvarr/articles/railvarr.html#clustering">Get Started page</a> and <a href="https://sebmerricks.github.io/railvarr/reference/cluster_journeys.html">function documentation</a> for more information.</p>
</div>
<div class="section level3">
<h3 id="id_3-timetable-processing">3. Timetable Processing<a class="anchor" aria-label="anchor" href="#id_3-timetable-processing"></a>
</h3>
<p>This step filters the timetable to only include relevant services, travelling in the correct direction. It also calculates and attaches calling patterns. The main <code>railvarr</code> function you will need for this is <a href="https://sebmerricks.github.io/railvarr/reference/wrangle_timetable.html">wrangle_timetable()</a>.</p>
</div>
<div class="section level3">
<h3 id="id_4-id-matching">4. ID Matching<a class="anchor" aria-label="anchor" href="#id_4-id-matching"></a>
</h3>
<p>The ID matching algorithm matches Centrix IDs with corresponding timetable IDs. This is necessary because raw Centrix data contain no identification information. Furthermore, there can be mismatches, where Centrix says there are trains present when the timetable doesn’t, and vice-versa. An extra input is required here, containing instructions for the matching process. For more details, see <a href="https://sebmerricks.github.io/railvarr/reference/match_ids.html">match_ids()</a> and the <a href="https://sebmerricks.github.io/railvarr/articles/railvarr.html#id-matching">ID Matching section of the Get Started page</a>.</p>
</div>
<div class="section level3">
<h3 id="id_5-dwell-time-and-delays">5. Dwell Time and Delays<a class="anchor" aria-label="anchor" href="#id_5-dwell-time-and-delays"></a>
</h3>
<p>Before calculating dwell times, you need to know the length of each berth. This could come from a data source, but we have found that such data is not always reliable. Therefore, <code>railvarr</code> provides functionality for estimating berth lengths. This can be done using the <a href="https://sebmerricks.github.io/railvarr/reference/estimate_berth_lengths.html">estimate_berth_lengths()</a> function. This function first requires running the processed timetable through the <a href="https://sebmerricks.github.io/railvarr/reference/calculate_journey_specifications.html">calculate_journey_specifications()</a>. Once you are in possession of berth lengths, you can calculate dwell times using the <a href="https://sebmerricks.github.io/railvarr/reference/estimate_dwell_times.html">estimate_dwell_times()</a> function. For more details, see the <a href="https://sebmerricks.github.io/railvarr/articles/railvarr.html#dwell-times-1">dwell times section of the Get Started page</a>. Once you have dwell times, you can then <a href="https://sebmerricks.github.io/railvarr/articles/railvarr.html#delays">estimate delays</a></p>
</div>
<div class="section level3">
<h3 id="diagram">Diagram<a class="anchor" aria-label="anchor" href="#diagram"></a>
</h3>
<figure><img src="reference/figures/README-pipeline.PNG" alt="Diagram of the processing pipeline that railvarr provides"><figcaption aria-hidden="true">
Diagram of the processing pipeline that <code>railvarr</code> provides
</figcaption></figure>
</div>
</div>
</div>
<div class="section level1">
<h1 id="example-data">Example Data<a class="anchor" aria-label="anchor" href="#example-data"></a>
</h1>
<p><code>railvarr</code> comes with some example data to help you get started. The documentation for each function will contain a link to the relevant data sets. These example data are also used in the function examples.</p>
</div>

  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/sebmerricks/railvarr/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/sebmerricks/railvarr/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing railvarr</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Sebastian Merricks <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/sebmerricks/railvarr/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/sebmerricks/railvarr/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Sebastian Merricks.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
